# MD2HTML é¡¹ç›®2025æ¶æ„è¯„ä¼°æŠ¥å‘Š

## 1. æ ¸å¿ƒé—®é¢˜

### 1.1 ä»£ç ç»„ç»‡æ”¹è¿›

#### å·²å®Œæˆçš„é‡ç»„å·¥ä½œ
- âœ… **æ¨¡å—æ‹†åˆ†**: å®Œæˆäº†ä¸»è¦æ¨¡å—çš„æ‹†åˆ†å·¥ä½œ
  - æ ¸å¿ƒæ¨¡å—ï¼šeditor.jsã€preview.js å·²å®Œæˆæ‹†åˆ†
  - UIæ¨¡å—ï¼štheme-manager.jsã€effects-manager.jsã€layout-manager.js å·²å®ç°
  - åŠŸèƒ½æ¨¡å—ï¼štoc.jsã€templates.jsã€exporter.js å·²å®Œæˆ
  - å·¥å…·å‡½æ•°åº“ï¼šutils/index.js å·²å®ŒæˆåŸºç¡€ç»“æ„

- âœ… **æ–‡ä»¶æ•´ç†**: å®Œæˆäº†æ–‡ä»¶ç»“æ„ä¼˜åŒ–
  - ç¤ºä¾‹æ–‡ä»¶æŒ‰åŠŸèƒ½åˆ†ç±»æ•´ç†
  - ä¸»é¢˜æ–‡ä»¶ç»Ÿä¸€ç®¡ç†
  - æµ‹è¯•æ–‡ä»¶è§„èŒƒåŒ–ç»„ç»‡

- âœ… **ä¾èµ–æ¢³ç†**: åŸºæœ¬ç†æ¸…äº†æ¨¡å—ä¾èµ–
  - å»ºç«‹äº†æ¸…æ™°çš„æ¨¡å—å±‚æ¬¡
  - å®ç°äº†åŠŸèƒ½æ¨¡å—çš„ç‹¬ç«‹æ€§
  - æ”¹å–„äº†ä»£ç å¤ç”¨æ€§

#### ä»éœ€æ”¹è¿›çš„é—®é¢˜
- ğŸŸ¡ **å±€éƒ¨è€¦åˆ**: éƒ¨åˆ†åŠŸèƒ½ä»å­˜åœ¨è€¦åˆ
  - äº‹ä»¶å¤„ç†é€»è¾‘å¤§éƒ¨åˆ†ä»é›†ä¸­åœ¨app.jsï¼Œéœ€è¦è¿ç§»åˆ°å¯¹åº”æ¨¡å—
  - ç¤ºä¾‹åŠ è½½åŠŸèƒ½ä»åœ¨app.jsä¸­ï¼ŒæœªæŒ‰è®¡åˆ’æ‹†åˆ†ä¸ºç‹¬ç«‹çš„examples.jsæ¨¡å—
  - éƒ¨åˆ†UIäº¤äº’é€»è¾‘éœ€è¦è¿›ä¸€æ­¥è§£è€¦

### 1.2 æ¶æ„è®¾è®¡ä¼˜åŒ–

#### å·²å®ç°çš„æ”¹è¿›
- âœ… **æ¨¡å—åŒ–æ¶æ„**: åŸºæœ¬å®ç°äº†æ¨¡å—åŒ–è®¾è®¡
  - æ ¸å¿ƒåŠŸèƒ½æ‹†åˆ†ä¸º editor.js å’Œ preview.js
  - UIç»„ä»¶æ‹†åˆ†ä¸º theme-manager.jsã€effects-manager.js å’Œ layout-manager.js
  - åŠŸèƒ½æ¨¡å—æ‹†åˆ†ä¸º toc.jsã€templates.js å’Œ exporter.js
  - å·¥å…·å‡½æ•°ç»Ÿä¸€ç®¡ç†åœ¨ utils/index.js

- âœ… **ä¾èµ–ç®¡ç†**: ä¾èµ–å…³ç³»æ›´åŠ æ¸…æ™°
  - æ¨¡å—é€šè¿‡å¯¼å…¥/å¯¼å‡ºæ˜ç¡®å®šä¹‰æ¥å£
  - å¤§å¹…å‡å°‘äº†å¾ªç¯ä¾èµ–
  - é€šè¿‡ import/export è§„èŒƒåŒ–ä¾èµ–å…³ç³»

- ğŸŸ¡ **é…ç½®åˆ†æ•£**: é…ç½®ä¿¡æ¯åˆ†æ•£åœ¨å¤šä¸ªæ–‡ä»¶ä¸­ï¼Œä¸æ˜“ç®¡ç†
  - è½¬æ¢é…ç½®åˆ†å¸ƒåœ¨å¤šä¸ªæ¨¡å—ä¸­
  - ä¸»é¢˜é…ç½®ä¸æ ¸å¿ƒé…ç½®æ··åˆ
  - ç¼ºä¹ç»Ÿä¸€çš„é…ç½®ç®¡ç†æœºåˆ¶

- ğŸŸ¡ **æ¥å£ä¸ç»Ÿä¸€**: ç¼ºä¹ç»Ÿä¸€çš„æ¨¡å—æ¥å£å®šä¹‰ï¼Œä¸åŒæ¨¡å—é£æ ¼ä¸ä¸€è‡´
  - æ¨¡å—é—´æ¥å£å®šä¹‰ä¸ç»Ÿä¸€
  - éƒ¨åˆ†æ¨¡å—ä½¿ç”¨å›è°ƒï¼Œéƒ¨åˆ†ä½¿ç”¨Promise
  - é”™è¯¯å¤„ç†æ–¹å¼ä¸ä¸€è‡´

### 1.3 æŠ€æœ¯å®ç°é—®é¢˜
- ğŸ”´ **é”™è¯¯å¤„ç†**: å¼‚å¸¸å¤„ç†ä¸å¤Ÿç³»ç»ŸåŒ–ï¼Œéƒ¨åˆ†åŠŸèƒ½ç¼ºä¹é”™è¯¯æ¢å¤æœºåˆ¶
- ğŸ”´ **ç±»å‹å®šä¹‰**: TypeScriptç±»å‹å®šä¹‰ä¸å®Œæ•´ï¼Œæœªå……åˆ†åˆ©ç”¨ç±»å‹ç³»ç»Ÿ
- ğŸŸ¡ **æ€§èƒ½ä¼˜åŒ–**: ç¼ºä¹æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–æœºåˆ¶
- ğŸŸ¡ **ç¼“å­˜ç­–ç•¥**: ä¸»é¢˜å’Œç‰¹æ•ˆçš„ç¼“å­˜ç­–ç•¥éœ€è¦ä¼˜åŒ–

### 1.4 æµ‹è¯•è¦†ç›–é—®é¢˜
- ğŸ”´ **æµ‹è¯•è¦†ç›–ä¸è¶³**: éƒ¨åˆ†æ ¸å¿ƒåŠŸèƒ½ç¼ºä¹å•å…ƒæµ‹è¯•
- ğŸ”´ **é›†æˆæµ‹è¯•ç¼ºå¤±**: ç¼ºä¹ç«¯åˆ°ç«¯çš„é›†æˆæµ‹è¯•
- ğŸŸ¡ **æµ‹è¯•æ•°æ®**: æµ‹è¯•æ•°æ®å’Œç”¨ä¾‹ä¸å¤Ÿç³»ç»ŸåŒ–
- ğŸŸ¡ **æ€§èƒ½æµ‹è¯•**: ç¼ºä¹æ€§èƒ½åŸºå‡†æµ‹è¯•

### 1.5 æ–‡æ¡£ç»´æŠ¤é—®é¢˜
- ğŸŸ¡ **æ–‡æ¡£æ•£ä¹±**: æ–‡æ¡£ç»“æ„éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–
- ğŸŸ¡ **ç¤ºä¾‹é‡å¤**: ç¤ºä¾‹æ–‡ä»¶ç»„ç»‡éœ€è¦æ”¹è¿›
- ğŸŸ¡ **ç‰ˆæœ¬æ§åˆ¶**: æ–‡æ¡£ç‰ˆæœ¬æ§åˆ¶ä¸å¤Ÿä¸¥æ ¼
- ğŸŸ¢ **æ³¨é‡Šå®Œæ•´æ€§**: ä»£ç æ³¨é‡Šç›¸å¯¹å®Œæ•´

## 2. æ”¹è¿›å»ºè®®

### 2.1 çŸ­æœŸä¼˜åŒ–è®¡åˆ’
1. **ä»£ç é‡æ„**
   - å®Œæˆ APP-SPLIT-PLAN.md ä¸­å‰©ä½™çš„æ¨¡å—æ‹†åˆ†å·¥ä½œï¼š
     - âœ… å·²å®Œæˆ: core/editor.jsã€core/preview.js
     - âœ… å·²å®Œæˆ: ui/theme-manager.jsã€ui/effects-manager.jsã€ui/layout-manager.js
     - âœ… å·²å®Œæˆ: features/exporter.jsã€features/templates.jsã€features/toc.js
     - âœ… å·²å®Œæˆ: utils/index.js
     - â¬œ å¾…å®Œæˆ: features/examples.js (ç¤ºä¾‹åŠ è½½åŠŸèƒ½)
     - â¬œ å¾…æ”¹è¿›: äº‹ä»¶å¤„ç†é€»è¾‘ä»app.jsè¿ç§»åˆ°å¯¹åº”æ¨¡å—
   - æ¸…ç†å†—ä½™çš„HTMLæ–‡ä»¶
   - ç»Ÿä¸€ä¸»é¢˜æ–‡ä»¶å‘½åè§„èŒƒ
   - å®Œå–„TypeScriptç±»å‹å®šä¹‰

2. **æ¶æ„ä¼˜åŒ–**
   - å¼•å…¥ä¾èµ–æ³¨å…¥æœºåˆ¶
   - å®ç°ç»Ÿä¸€çš„æ¨¡å—æ¥å£è§„èŒƒ
   - é›†ä¸­é…ç½®ç®¡ç†
   - ä¼˜åŒ–ç¼“å­˜ç­–ç•¥

3. **æµ‹è¯•å¢å¼º**
   - è¡¥å……æ ¸å¿ƒåŠŸèƒ½å•å…ƒæµ‹è¯•
   - æ·»åŠ ç«¯åˆ°ç«¯æµ‹è¯•
   - å»ºç«‹æ€§èƒ½æµ‹è¯•åŸºå‡†
   - è§„èŒƒåŒ–æµ‹è¯•æ•°æ®ç®¡ç†

### 2.2 ä¸­é•¿æœŸå‘å±•å»ºè®®
1. **æ¶æ„å‡çº§**
   - å¼•å…¥å¾®å‰ç«¯æ¶æ„
   - å®ç°æ’ä»¶ç³»ç»Ÿ
   - ä¼˜åŒ–ä¸»é¢˜ç³»ç»Ÿ
   - å¢å¼ºç‰¹æ•ˆç³»ç»Ÿ

2. **å·¥ç¨‹æ”¹è¿›**
   - å»ºç«‹æ€§èƒ½ç›‘æ§ä½“ç³»
   - ä¼˜åŒ–æ„å»ºæµç¨‹
   - å®Œå–„å‘å¸ƒæµç¨‹
   - å¢å¼ºé”™è¯¯å¤„ç†æœºåˆ¶

3. **æ–‡æ¡£ä½“ç³»**
   - é‡æ„æ–‡æ¡£ç»“æ„
   - å»ºç«‹ç‰ˆæœ¬åŒ–æ–‡æ¡£
   - å®Œå–„APIæ–‡æ¡£
   - ä¼˜åŒ–ç¤ºä¾‹ç³»ç»Ÿ

## 3. æŠ•å…¥äº§å‡ºåˆ†æ

### 3.1 ä¼˜å…ˆçº§çŸ©é˜µ
| æ”¹è¿›é¡¹ | ä¼˜å…ˆçº§ | å·¥ä½œé‡ | æ”¶ç›Š | å®ŒæˆçŠ¶æ€ |
|-------|--------|--------|------|---------|
| æ¨¡å—æ‹†åˆ† | P0 | é«˜ | é«˜ | 80% |
| äº‹ä»¶å¤„ç†è§£è€¦ | P0 | ä¸­ | é«˜ | 30% |
| ç¤ºä¾‹ç³»ç»Ÿæ¨¡å—åŒ– | P1 | ä½ | ä¸­ | 0% |
| ç±»å‹å®Œå–„ | P1 | ä¸­ | é«˜ | 10% |
| æµ‹è¯•è¡¥å…… | P1 | é«˜ | é«˜ | 20% |
| æ–‡æ¡£ä¼˜åŒ– | P2 | ä¸­ | ä¸­ | 50% |
| æ¶æ„å‡çº§ | P3 | é«˜ | é«˜ | 10% |

### 3.2 é£é™©è¯„ä¼°
- **æŠ€æœ¯é£é™©**: æ¨¡å—æ‹†åˆ†å¯èƒ½å¼•å…¥æ–°çš„bug
- **å…¼å®¹é£é™©**: æ¥å£å˜æ›´å¯èƒ½å½±å“ç°æœ‰åŠŸèƒ½
- **æ€§èƒ½é£é™©**: æ¶æ„è°ƒæ•´å¯èƒ½å½±å“æ€§èƒ½
- **å·¥æœŸé£é™©**: é‡æ„å·¥ä½œé‡å¤§ï¼Œéœ€è¦åˆç†è§„åˆ’

## 4. æ€»ç»“

æ ¹æ®APP-SPLIT-PLAN.mdçš„å®æ–½è¿›åº¦åˆ†æï¼Œæˆ‘ä»¬å·²å®Œæˆäº†çº¦80%çš„æ¨¡å—æ‹†åˆ†å·¥ä½œï¼š

1. âœ… å·²å®Œæˆæ‹†åˆ†çš„æ¨¡å—ï¼š
   - æ ¸å¿ƒæ¨¡å—ï¼šeditor.jsã€preview.js
   - UIæ¨¡å—ï¼štheme-manager.jsã€effects-manager.jsã€layout-manager.js
   - åŠŸèƒ½æ¨¡å—ï¼šexporter.jsã€templates.jsã€toc.js
   - å·¥å…·æ¨¡å—ï¼šutils/index.js

2. â¬œ å¾…å®Œæˆçš„æ‹†åˆ†å·¥ä½œï¼š
   - ç¤ºä¾‹ç³»ç»Ÿæ¨¡å— (examples.js) å°šæœªå®ç°
   - äº‹ä»¶å¤„ç†é€»è¾‘éœ€è¦ä»app.jsè¿ç§»åˆ°å¯¹åº”æ¨¡å—
   - å¯¼å‡ºæ ·å¼ç”Ÿæˆé€»è¾‘åº”è¿ç§»åˆ°exporter.js

ä»å¥¥å¡å§†å‰ƒåˆ€çš„è§’åº¦æ¥çœ‹ï¼Œå½“å‰é¡¹ç›®æ¶æ„ç›¸æ¯”ä¹‹å‰å·²ç»å¤§å¹…ç®€åŒ–ï¼Œä½†ä»å­˜åœ¨ä»¥ä¸‹éœ€è¦ä¼˜åŒ–çš„æ–¹é¢ï¼š
1. äº‹ä»¶ç»‘å®šé€»è¾‘ä»é›†ä¸­åœ¨app.jsï¼Œå½¢æˆäº†ä¸å¿…è¦çš„å¤æ‚æ€§
2. é…ç½®å’Œä¾èµ–ç®¡ç†ä¸å¤Ÿç®€æ´ï¼Œéœ€è¦ç»Ÿä¸€åŒ–
3. æ–‡ä»¶ç»„ç»‡ç»“æ„å¯ä»¥æ›´åŠ ç²¾ç®€
4. æ¥å£è®¾è®¡å¯ä»¥æ›´åŠ ç»Ÿä¸€

å»ºè®®é‡‡ç”¨"æ¸è¿›å¼é‡æ„"ç­–ç•¥ï¼ŒæŒ‰ç…§ä¼˜å…ˆçº§çŸ©é˜µé€æ­¥å®æ–½æ”¹è¿›è®¡åˆ’ï¼Œåœ¨ä¿è¯é¡¹ç›®ç¨³å®šæ€§çš„åŒæ—¶ï¼Œé€æ­¥ä¼˜åŒ–é¡¹ç›®æ¶æ„å’Œä»£ç è´¨é‡ã€‚

## 5. å¾…è¿ç§»åŠŸèƒ½åˆ†æ

### 5.1 app.jsä¸­æ®‹ç•™çš„åŠŸèƒ½
æ ¹æ®å¯¹å½“å‰app.jsçš„åˆ†æï¼Œä»¥ä¸‹åŠŸèƒ½ä»éœ€è¦æå–åˆ°ç‹¬ç«‹æ¨¡å—ï¼š

1. **ç¤ºä¾‹åŠ è½½ç³»ç»Ÿ**
   - `loadExample`æ–¹æ³•
   - `getExamplePath`æ–¹æ³•å’Œç¤ºä¾‹è·¯å¾„æ˜ å°„
   - ç¤ºä¾‹ç›¸å…³çš„äº‹ä»¶å¤„ç†
   
2. **äº‹ä»¶ç»‘å®šæœºåˆ¶**
   - ä¸»é¢˜ç›¸å…³äº‹ä»¶ç»‘å®šåº”ç§»è‡³theme-manager.js
   - ç‰¹æ•ˆç›¸å…³äº‹ä»¶ç»‘å®šåº”ç§»è‡³effects-manager.js
   - å¸ƒå±€ç›¸å…³äº‹ä»¶ç»‘å®šåº”ç§»è‡³layout-manager.js
   - ç¼–è¾‘å™¨æ§ä»¶äº‹ä»¶ç»‘å®šåº”ç§»è‡³editor.js
   - ç›®å½•åŠŸèƒ½äº‹ä»¶ç»‘å®šåº”ç§»è‡³toc.js
   - å¯¼å‡ºåŠŸèƒ½äº‹ä»¶ç»‘å®šåº”ç§»è‡³exporter.js
   - æ¨¡æ¿æ’å…¥äº‹ä»¶ç»‘å®šåº”ç§»è‡³templates.js

3. **æ ·å¼ç”Ÿæˆé€»è¾‘**
   - `generateExportStyles`æ–¹æ³•åº”ç§»è‡³exporter.js
   - `generateExportFilename`æ–¹æ³•åº”ç§»è‡³exporter.js

### 5.2 åç»­è·Ÿè¿›è®¡åˆ’

- [x] å®Œæˆä¸»è¦æ¨¡å—çš„æ‹†åˆ†å·¥ä½œ
- [ ] åˆ›å»ºå¹¶å®ç°examples.jsæ¨¡å—
- [ ] å°†äº‹ä»¶å¤„ç†é€»è¾‘è¿ç§»åˆ°å¯¹åº”æ¨¡å—
- [ ] ç§»åŠ¨æ ·å¼ç”Ÿæˆé€»è¾‘åˆ°exporter.js
- [ ] å»ºç«‹ç»Ÿä¸€çš„é…ç½®ç®¡ç†
- [ ] è¡¥å……å•å…ƒæµ‹è¯•
- [ ] è§„èŒƒæ¥å£è®¾è®¡

### 5.3 å…·ä½“å®æ–½å»ºè®®

#### ç¬¬ä¸€é˜¶æ®µï¼šå®Œæˆæ ¸å¿ƒæ¨¡å—æ‹†åˆ†
1. åˆ›å»º`features/examples.js`æ¨¡å—:
```javascript
// features/examples.js
import { logger } from '../utils/index.js';

class ExamplesManager {
    constructor() {
        this.examplePathMap = {
            // åŸºç¡€ç¤ºä¾‹
            'welcome-demo': 'basic/welcome-demo',
            'academic-paper': 'basic/academic-paper',
            // ...å…¶ä»–ç¤ºä¾‹è·¯å¾„
        };
    }
    
    async load(exampleName, editorInstance) {
        try {
            const loadingMsg = `# åŠ è½½ä¸­...\n\næ­£åœ¨åŠ è½½ ${exampleName} ç¤ºä¾‹...`;
            editorInstance.setValue(loadingMsg);
            
            // è·å–ç¤ºä¾‹æ–‡ä»¶è·¯å¾„
            const examplePath = this.getExamplePath(exampleName);
            
            // åŠ è½½ç¤ºä¾‹æ–‡ä»¶
            const response = await fetch(`../examples/${examplePath}.md`);
            if (!response.ok) {
                throw new Error(`æ— æ³•åŠ è½½ç¤ºä¾‹ (${response.status}): ${response.statusText}`);
            }
            
            const text = await response.text();
            editorInstance.setValue(text);
            logger.info(`ç¤ºä¾‹ "${exampleName}" åŠ è½½æˆåŠŸï¼Œå†…å®¹é•¿åº¦: ${text.length}`);
            return true;
        } catch (error) {
            logger.error('åŠ è½½ç¤ºä¾‹å¤±è´¥:', error);
            editorInstance.setValue('# åŠ è½½å¤±è´¥\n\næ— æ³•åŠ è½½ç¤ºä¾‹æ–‡ä»¶ï¼š' + error.message);
            return false;
        }
    }
    
    getExamplePath(exampleName) {
        return this.examplePathMap[exampleName] || `basic/${exampleName}`;
    }
    
    bindEvents(appInstance) {
        // å°†ç¤ºä¾‹åŠ è½½äº‹ä»¶ç»‘å®šä»app.jsè¿ç§»åˆ°æ­¤å¤„
        document.querySelectorAll('.dropdown-content a[data-example]').forEach(link => {
            link.addEventListener('click', async (e) => {
                e.preventDefault();
                const exampleName = e.target.dataset.example;
                await this.load(exampleName, appInstance.editor);
            });
        });
    }
}

export default ExamplesManager;
```

2. æ›´æ–°å¯¼å‡ºæ ·å¼åŠŸèƒ½ï¼š
   - å°†`generateExportStyles`å’Œ`generateExportFilename`æ–¹æ³•ç§»è‡³exporter.js

#### ç¬¬äºŒé˜¶æ®µï¼šäº‹ä»¶å¤„ç†è§£è€¦
1. ä¸ºå„æ¨¡å—æ·»åŠ `bindEvents`æ–¹æ³•ï¼Œè´Ÿè´£å„è‡ªç›¸å…³äº‹ä»¶çš„ç»‘å®š
2. é‡æ„app.jsä¸­çš„`bindEvents`æ–¹æ³•ï¼Œå§”æ‰˜å„æ¨¡å—å¤„ç†å„è‡ªç›¸å…³çš„äº‹ä»¶

#### ç¬¬ä¸‰é˜¶æ®µï¼šæ¥å£ç»Ÿä¸€ä¸ä¼˜åŒ–
1. ä¸ºæ‰€æœ‰æ¨¡å—å®šä¹‰ç»Ÿä¸€çš„æ¥å£ç»“æ„
2. å®ç°é…ç½®é›†ä¸­ç®¡ç†
3. æ·»åŠ é”™è¯¯å¤„ç†ä¸æ¢å¤æœºåˆ¶

---

**æŠ¥å‘Šæ—¶é—´**: 2025å¹´6æœˆ4æ—¥ï¼ˆæ›´æ–°ï¼‰  
**åˆ†æäºº**: GitHub Copilot  
**é¡¹ç›®çŠ¶æ€**: æ¨¡å—æ‹†åˆ†è¿›è¡Œä¸­ï¼ˆ80%å®Œæˆï¼‰
